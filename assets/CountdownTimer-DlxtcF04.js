import{r as f,d as y,f as o,w as v,g as C,c as L,b as m,n as P,t as b,l as x,u as B,o as R}from"./index-2ZKqHTfF.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const u=300,t=f(u),a=f(!1);let n=null;const e={timeLeft:t,isRunning:a,startTimer(){a.value||(a.value=!0,n=window.setInterval(()=>{t.value>0?t.value--:this.stopTimer()},1e3))},stopTimer(){n&&(clearInterval(n),n=null,a.value=!1)},resetTimer(){this.stopTimer(),t.value=u},getFormattedTime(){const i=Math.floor(t.value/60),l=t.value%60;return`${i.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`},getProgressPercentage(){return t.value/u*100},dispose(){this.stopTimer()}};window.addEventListener("beforeunload",()=>{e.dispose()});const U={class:"countdown-timer"},$={class:"progress-bar"},k=y({__name:"CountdownTimer",props:{start:{type:Boolean}},emits:["timeUp"],setup(i,{expose:l,emit:g}){const T=i,_=g,h=B(),r=o(()=>e.timeLeft.value),c=o(()=>e.isRunning.value),w=o(()=>e.getFormattedTime()),I=o(()=>e.getProgressPercentage());v(r,s=>{s===0&&(_("timeUp"),h.push("/game-over"))}),v(()=>T.start,s=>{s&&!c.value?d():!s&&c.value&&p()},{immediate:!0});function d(){e.startTimer()}function p(){e.stopTimer()}function S(){e.resetTimer()}return C(()=>{}),l({startTimer:d,stopTimer:p,resetTimer:S,timeLeft:r}),(s,z)=>(R(),L("div",U,[m("div",{class:P(["timer-display",{warning:r.value<60,danger:r.value<30}])},b(w.value),3),m("div",$,[m("div",{class:"progress",style:x({width:`${I.value}%`})},null,4)])]))}}),N=E(k,[["__scopeId","data-v-d88a1b26"]]);export{N as C};
//# sourceMappingURL=CountdownTimer-DlxtcF04.js.map
